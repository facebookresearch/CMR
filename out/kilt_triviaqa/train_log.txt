06/01/2021 14:01:20 - INFO - __main__ - Namespace(adam_epsilon=1e-08, append_another_bos=True, checkpoint=None, dataset='kilt_triviaqa', debug=False, dev_file='data/kilt_triviaqa/kilt_triviaqa_dev.tsv', do_lowercase=False, do_predict=False, do_train=True, eval_period=100, freeze_embeds=False, gradient_accumulation_steps=1, learning_rate=3e-05, max_grad_norm=0.1, max_input_length=128, max_output_length=32, model='facebook/bart-base', num_beams=4, num_train_epochs=1000.0, output_dir='out/kilt_triviaqa', predict_batch_size=32, predict_checkpoint='best-model.pt', prefix='', quiet=False, seed=42, test_file='data', total_steps=100000, train_batch_size=16, train_file='data/kilt_triviaqa/kilt_triviaqa_train.tsv', wait_step=10, warmup_proportion=0.01, warmup_steps=500, weight_decay=0.01)
06/01/2021 14:01:20 - INFO - __main__ - out/kilt_triviaqa
06/01/2021 14:01:20 - INFO - __main__ - Using 1 gpus
06/01/2021 14:01:20 - INFO - transformers.tokenization_utils - Model name 'facebook/bart-base' not found in model shortcut name list (bart-large, bart-large-mnli, bart-large-cnn, bart-large-xsum). Assuming 'facebook/bart-base' is a path, a model identifier, or url to a directory containing tokenizer files.
06/01/2021 14:01:20 - INFO - filelock - Lock 139668737159008 acquired on /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b.lock
06/01/2021 14:01:20 - INFO - transformers.file_utils - https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json not found in cache or force_download set to True, downloading to /private/home/yuchenlin/.cache/torch/transformers/tmpypntqfkp
06/01/2021 14:01:21 - INFO - transformers.file_utils - storing https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json in cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:01:21 - INFO - transformers.file_utils - creating metadata file for /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:01:21 - INFO - filelock - Lock 139668737159008 released on /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b.lock
06/01/2021 14:01:21 - INFO - filelock - Lock 139668737159008 acquired on /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda.lock
06/01/2021 14:01:21 - INFO - transformers.file_utils - https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt not found in cache or force_download set to True, downloading to /private/home/yuchenlin/.cache/torch/transformers/tmppdasdzml
06/01/2021 14:01:22 - INFO - transformers.file_utils - storing https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt in cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:01:22 - INFO - transformers.file_utils - creating metadata file for /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:01:22 - INFO - filelock - Lock 139668737159008 released on /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda.lock
06/01/2021 14:01:23 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json from cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:01:23 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt from cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:01:23 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/added_tokens.json from cache at None
06/01/2021 14:01:23 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/special_tokens_map.json from cache at None
06/01/2021 14:01:23 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/tokenizer_config.json from cache at None
06/01/2021 14:01:49 - INFO - __main__ - Namespace(adam_epsilon=1e-08, append_another_bos=True, checkpoint=None, dataset='kilt_triviaqa', debug=False, dev_file='data/kilt_triviaqa/kilt_triviaqa_dev.tsv', do_lowercase=False, do_predict=False, do_train=True, eval_period=100, freeze_embeds=False, gradient_accumulation_steps=1, learning_rate=3e-05, max_grad_norm=0.1, max_input_length=128, max_output_length=32, model='facebook/bart-base', num_beams=4, num_train_epochs=1000.0, output_dir='out/kilt_triviaqa', predict_batch_size=32, predict_checkpoint='best-model.pt', prefix='', quiet=False, seed=42, test_file='data', total_steps=100000, train_batch_size=16, train_file='data/kilt_triviaqa/kilt_triviaqa_train.tsv', wait_step=10, warmup_proportion=0.01, warmup_steps=500, weight_decay=0.01)
06/01/2021 14:01:49 - INFO - __main__ - out/kilt_triviaqa
06/01/2021 14:01:50 - INFO - __main__ - Using 1 gpus
06/01/2021 14:01:50 - INFO - transformers.tokenization_utils - Model name 'facebook/bart-base' not found in model shortcut name list (bart-large, bart-large-mnli, bart-large-cnn, bart-large-xsum). Assuming 'facebook/bart-base' is a path, a model identifier, or url to a directory containing tokenizer files.
06/01/2021 14:01:51 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json from cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:01:51 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt from cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:01:51 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/added_tokens.json from cache at None
06/01/2021 14:01:51 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/special_tokens_map.json from cache at None
06/01/2021 14:01:51 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/tokenizer_config.json from cache at None
06/01/2021 14:02:31 - INFO - __main__ - Namespace(adam_epsilon=1e-08, append_another_bos=True, checkpoint=None, dataset='kilt_triviaqa', debug=False, dev_file='data/kilt_triviaqa/kilt_triviaqa_dev.tsv', do_lowercase=False, do_predict=False, do_train=True, eval_period=100, freeze_embeds=False, gradient_accumulation_steps=1, learning_rate=3e-05, max_grad_norm=0.1, max_input_length=128, max_output_length=32, model='facebook/bart-base', num_beams=4, num_train_epochs=1000.0, output_dir='out/kilt_triviaqa', predict_batch_size=32, predict_checkpoint='best-model.pt', prefix='', quiet=False, seed=42, test_file='data', total_steps=100000, train_batch_size=16, train_file='data/kilt_triviaqa/kilt_triviaqa_train.tsv', wait_step=10, warmup_proportion=0.01, warmup_steps=500, weight_decay=0.01)
06/01/2021 14:02:31 - INFO - __main__ - out/kilt_triviaqa
06/01/2021 14:02:31 - INFO - __main__ - Using 1 gpus
06/01/2021 14:02:31 - INFO - transformers.tokenization_utils - Model name 'facebook/bart-base' not found in model shortcut name list (bart-large, bart-large-mnli, bart-large-cnn, bart-large-xsum). Assuming 'facebook/bart-base' is a path, a model identifier, or url to a directory containing tokenizer files.
06/01/2021 14:02:32 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json from cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:02:32 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt from cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:02:32 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/added_tokens.json from cache at None
06/01/2021 14:02:32 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/special_tokens_map.json from cache at None
06/01/2021 14:02:32 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/tokenizer_config.json from cache at None
06/01/2021 14:05:20 - INFO - __main__ - Namespace(adam_epsilon=1e-08, append_another_bos=True, checkpoint=None, dataset='kilt_triviaqa', debug=False, dev_file='data/kilt_triviaqa/kilt_triviaqa_dev.tsv', do_lowercase=False, do_predict=False, do_train=True, eval_period=100, freeze_embeds=False, gradient_accumulation_steps=1, learning_rate=3e-05, max_grad_norm=0.1, max_input_length=128, max_output_length=32, model='facebook/bart-base', num_beams=4, num_train_epochs=1000.0, output_dir='out/kilt_triviaqa', predict_batch_size=32, predict_checkpoint='best-model.pt', prefix='', quiet=False, seed=42, test_file='data', total_steps=100000, train_batch_size=16, train_file='data/kilt_triviaqa/kilt_triviaqa_train.tsv', wait_step=10, warmup_proportion=0.01, warmup_steps=500, weight_decay=0.01)
06/01/2021 14:05:20 - INFO - __main__ - out/kilt_triviaqa
06/01/2021 14:05:20 - INFO - __main__ - Using 1 gpus
06/01/2021 14:05:20 - INFO - transformers.tokenization_utils - Model name 'facebook/bart-base' not found in model shortcut name list (bart-large, bart-large-mnli, bart-large-cnn, bart-large-xsum). Assuming 'facebook/bart-base' is a path, a model identifier, or url to a directory containing tokenizer files.
06/01/2021 14:05:21 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json from cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:05:21 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt from cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:05:21 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/added_tokens.json from cache at None
06/01/2021 14:05:21 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/special_tokens_map.json from cache at None
06/01/2021 14:05:21 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/tokenizer_config.json from cache at None
06/01/2021 14:05:22 - INFO - __main__ - Start tokenizing ... 61817 instances
06/01/2021 14:05:22 - INFO - __main__ - Printing 3 examples
06/01/2021 14:05:22 - INFO - __main__ -  [kilt_triviaqa] What denomination of British bank note depicts twenty prisoners crammed into one cell?
06/01/2021 14:05:22 - INFO - __main__ - ['five  £', '5 £', '£5', 'five £']
06/01/2021 14:05:22 - INFO - __main__ -  [kilt_triviaqa] Under what name did Terry the dog achieve fame in a 1939 film?
06/01/2021 14:05:22 - INFO - __main__ - ['TOTO (disambiguation)', 'TOTO', 'toto disambiguation', 'toto']
06/01/2021 14:05:22 - INFO - __main__ -  [kilt_triviaqa] Who connects the BBC news, ‘Crimewatch’, and ‘Antiques Roadshow’?
06/01/2021 14:05:22 - INFO - __main__ - ['FIONA BRUCE', 'Fiona Bruce', 'Fiona Bruce', 'Fiona Bruce', 'fiona bruce']
06/01/2021 14:05:22 - INFO - __main__ - Tokenizing Input ...
06/01/2021 14:05:38 - INFO - __main__ - Tokenizing Output ...
06/01/2021 14:11:04 - INFO - __main__ - Namespace(adam_epsilon=1e-08, append_another_bos=True, checkpoint=None, dataset='kilt_triviaqa', debug=False, dev_file='data/kilt_triviaqa/kilt_triviaqa_dev.tsv', do_lowercase=False, do_predict=False, do_train=True, eval_period=100, freeze_embeds=False, gradient_accumulation_steps=1, learning_rate=3e-05, max_grad_norm=0.1, max_input_length=128, max_output_length=32, model='facebook/bart-base', num_beams=4, num_train_epochs=1000.0, output_dir='out/kilt_triviaqa', predict_batch_size=32, predict_checkpoint='best-model.pt', prefix='', quiet=False, seed=42, test_file='data', total_steps=100000, train_batch_size=16, train_file='data/kilt_triviaqa/kilt_triviaqa_train.tsv', wait_step=10, warmup_proportion=0.01, warmup_steps=500, weight_decay=0.01)
06/01/2021 14:11:04 - INFO - __main__ - out/kilt_triviaqa
06/01/2021 14:11:05 - INFO - __main__ - Using 1 gpus
06/01/2021 14:11:05 - INFO - transformers.tokenization_utils - Model name 'facebook/bart-base' not found in model shortcut name list (bart-large, bart-large-mnli, bart-large-cnn, bart-large-xsum). Assuming 'facebook/bart-base' is a path, a model identifier, or url to a directory containing tokenizer files.
06/01/2021 14:11:06 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json from cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:11:06 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt from cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:11:06 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/added_tokens.json from cache at None
06/01/2021 14:11:06 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/special_tokens_map.json from cache at None
06/01/2021 14:11:06 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/tokenizer_config.json from cache at None
06/01/2021 14:11:07 - INFO - __main__ - Loading pre-tokenized data from data/kilt_triviaqa/kilt_triviaqa_train-BartTokenized.json
06/01/2021 14:12:24 - INFO - __main__ - Namespace(adam_epsilon=1e-08, append_another_bos=True, checkpoint=None, dataset='kilt_triviaqa', debug=False, dev_file='data/kilt_triviaqa/kilt_triviaqa_dev.tsv', do_lowercase=False, do_predict=False, do_train=True, eval_period=100, freeze_embeds=False, gradient_accumulation_steps=1, learning_rate=3e-05, max_grad_norm=0.1, max_input_length=128, max_output_length=32, model='facebook/bart-base', num_beams=4, num_train_epochs=1000.0, output_dir='out/kilt_triviaqa', predict_batch_size=32, predict_checkpoint='best-model.pt', prefix='', quiet=False, seed=42, test_file='data', total_steps=100000, train_batch_size=16, train_file='data/kilt_triviaqa/kilt_triviaqa_train.tsv', wait_step=10, warmup_proportion=0.01, warmup_steps=500, weight_decay=0.01)
06/01/2021 14:12:24 - INFO - __main__ - out/kilt_triviaqa
06/01/2021 14:12:24 - INFO - __main__ - Using 1 gpus
06/01/2021 14:12:24 - INFO - transformers.tokenization_utils - Model name 'facebook/bart-base' not found in model shortcut name list (bart-large, bart-large-mnli, bart-large-cnn, bart-large-xsum). Assuming 'facebook/bart-base' is a path, a model identifier, or url to a directory containing tokenizer files.
06/01/2021 14:12:25 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json from cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:12:25 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt from cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:12:25 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/added_tokens.json from cache at None
06/01/2021 14:12:25 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/special_tokens_map.json from cache at None
06/01/2021 14:12:25 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/tokenizer_config.json from cache at None
06/01/2021 14:12:26 - INFO - __main__ - Start tokenizing ... 61817 instances
06/01/2021 14:12:26 - INFO - __main__ - Printing 3 examples
06/01/2021 14:12:26 - INFO - __main__ -  [kilt_triviaqa] What denomination of British bank note depicts twenty prisoners crammed into one cell?
06/01/2021 14:12:26 - INFO - __main__ - ['five  £', '5 £', '£5', 'five £']
06/01/2021 14:12:26 - INFO - __main__ -  [kilt_triviaqa] Under what name did Terry the dog achieve fame in a 1939 film?
06/01/2021 14:12:26 - INFO - __main__ - ['TOTO (disambiguation)', 'TOTO', 'toto disambiguation', 'toto']
06/01/2021 14:12:26 - INFO - __main__ -  [kilt_triviaqa] Who connects the BBC news, ‘Crimewatch’, and ‘Antiques Roadshow’?
06/01/2021 14:12:26 - INFO - __main__ - ['FIONA BRUCE', 'Fiona Bruce', 'Fiona Bruce', 'Fiona Bruce', 'fiona bruce']
06/01/2021 14:12:27 - INFO - __main__ - Tokenizing Input ...
06/01/2021 14:13:05 - INFO - __main__ - Namespace(adam_epsilon=1e-08, append_another_bos=True, checkpoint=None, dataset='kilt_triviaqa', debug=False, dev_file='data/kilt_triviaqa/kilt_triviaqa_dev.tsv', do_lowercase=False, do_predict=False, do_train=True, eval_period=100, freeze_embeds=False, gradient_accumulation_steps=1, learning_rate=3e-05, max_grad_norm=0.1, max_input_length=128, max_output_length=32, model='facebook/bart-base', num_beams=4, num_train_epochs=1000.0, output_dir='out/kilt_triviaqa', predict_batch_size=32, predict_checkpoint='best-model.pt', prefix='', quiet=False, seed=42, test_file='data', total_steps=100000, train_batch_size=16, train_file='data/kilt_triviaqa/kilt_triviaqa_train.tsv', wait_step=10, warmup_proportion=0.01, warmup_steps=500, weight_decay=0.01)
06/01/2021 14:13:05 - INFO - __main__ - out/kilt_triviaqa
06/01/2021 14:13:05 - INFO - __main__ - Using 2 gpus
06/01/2021 14:13:05 - INFO - transformers.tokenization_utils - Model name 'facebook/bart-base' not found in model shortcut name list (bart-large, bart-large-mnli, bart-large-cnn, bart-large-xsum). Assuming 'facebook/bart-base' is a path, a model identifier, or url to a directory containing tokenizer files.
06/01/2021 14:13:07 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json from cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:13:07 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt from cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:13:07 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/added_tokens.json from cache at None
06/01/2021 14:13:07 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/special_tokens_map.json from cache at None
06/01/2021 14:13:07 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/tokenizer_config.json from cache at None
06/01/2021 14:13:08 - INFO - __main__ - Start tokenizing ... 61817 instances
06/01/2021 14:13:08 - INFO - __main__ - Printing 3 examples
06/01/2021 14:13:08 - INFO - __main__ -  [kilt_triviaqa] What denomination of British bank note depicts twenty prisoners crammed into one cell?
06/01/2021 14:13:08 - INFO - __main__ - ['five  £', '5 £', '£5', 'five £']
06/01/2021 14:13:08 - INFO - __main__ -  [kilt_triviaqa] Under what name did Terry the dog achieve fame in a 1939 film?
06/01/2021 14:13:08 - INFO - __main__ - ['TOTO (disambiguation)', 'TOTO', 'toto disambiguation', 'toto']
06/01/2021 14:13:08 - INFO - __main__ -  [kilt_triviaqa] Who connects the BBC news, ‘Crimewatch’, and ‘Antiques Roadshow’?
06/01/2021 14:13:08 - INFO - __main__ - ['FIONA BRUCE', 'Fiona Bruce', 'Fiona Bruce', 'Fiona Bruce', 'fiona bruce']
06/01/2021 14:13:08 - INFO - __main__ - Tokenizing Input ...
06/01/2021 14:13:21 - INFO - __main__ - Tokenizing Input ... Done!
06/01/2021 14:13:21 - INFO - __main__ - Tokenizing Output ...
06/01/2021 14:15:38 - INFO - __main__ - Tokenizing Output ... Done!
06/01/2021 14:15:38 - INFO - __main__ - Loading preprocessed data ... Done!
06/01/2021 14:17:15 - INFO - __main__ - Loaded 61817 examples from train data
06/01/2021 14:17:16 - INFO - __main__ - Start tokenizing ... 5355 instances
06/01/2021 14:17:16 - INFO - __main__ - Printing 3 examples
06/01/2021 14:17:16 - INFO - __main__ -  [kilt_triviaqa] Which English cricketer had figures for bowling 10 for 53 against Australia 1956?
06/01/2021 14:17:16 - INFO - __main__ - ['Jim Laker', 'jim laker', 'JIM LAKER', 'james laker', 'James Laker']
06/01/2021 14:17:16 - INFO - __main__ -  [kilt_triviaqa] In which country was the actor Sid James born?
06/01/2021 14:17:16 - INFO - __main__ - ['South African', 'South Africa', 'South Africans', 'republiek van suid afrika', 'south africaà', 'The Republic of South Africa', 'Zuid Africa', 'Mzansi', 'Republic of south africa', 'ISO 3166-1:ZA', 'iso 3166 1 za', "South Africa's", 'south african', 'Suid-Afrika', 'Suid Africa', 'Republiek van Suid-Afrika', 'suid afrika', 'zuid afrika', 'Ningizimu Afrika', 'Capital of South Africa', 'beloved country', 'sou frica', 'mzansi', 's afr', 'south africa', 'Southafrica', 'Third Republic (South Africa)', 'S Africa', 'Afrique du sud', 'seth efrika', 's africa', 'south africa s', 'southafrica', 'ningizimu afrika', 'Zuid-Afrika', 'afrique du sud', 'Republic of South Africa', 'rep of south africa', 'saffa', 'South-Africa', 'zuid africa', 'azania south africa', 'Saffa', 'Seth efrika', 'suid africa', 'Rep. of South Africa', 'South-African', 'zuidafrika', "Sou'frica", 'S. Africa', 'Zuidafrika', 'Azania/South Africa', 'South Africaà', 'republic of south africa', 'capital of south africa', 'SOUTH AFRICA', 'third republic south africa', 'Soufrica', 'S Afr', 'South africa', 'The Beloved Country', 'soufrica', 'Zuid Afrika', 'Rep. of SOUTH AFRICA', 'south africans']
06/01/2021 14:17:16 - INFO - __main__ -  [kilt_triviaqa] If you landed at 'Santa Catarina Airport on which Island would you be in?
06/01/2021 14:17:16 - INFO - __main__ - ['Autonomous Region of Madeira', 'Madeira', 'Madeiran', 'Protestantism in Madeira', 'madeiras', 'Madeira (island)', 'Madeira Archipelago', 'Madiera', 'telecommunications in madeira', 'Climate of Madeira', 'madeira portugal', 'geography of madeira', 'Communications in Madeira', 'economy of madeira', 'Economy of Madeira', 'tourism in madeira', 'Island Madeira', 'protestantism in madeira', 'madeiran', 'The Madeira Islands', 'Madeira islands', 'Lauraceas madeirense', 'ilha da madeira', 'Geography of the Madeira Islands', 'History of the Madeira Islands', 'Madeira Island', 'Telecommunications in Madeira', 'history of madeira islands', 'região autónoma da madeira', 'madeira islands', 'madeira archipelago', 'Regiao Autonoma da Madeira', 'Tourism in Madeira', 'communications in madeira', 'island madeira', 'Madeira Islands', 'MADEIRA', 'geography of madeira islands', 'climate of madeira', 'madiera', 'madeira island', 'Madeira, Portugal', 'madeira', 'Parliament of Madeira', 'Geography of Madeira', 'Madeiras', 'parliament of madeira', 'lauraceas madeirense', 'Ilha da Madeira', 'regiao autonoma da madeira', 'autonomous region of madeira', 'Região Autónoma da Madeira']
06/01/2021 14:17:16 - INFO - __main__ - Tokenizing Input ...
06/01/2021 14:17:17 - INFO - __main__ - Tokenizing Input ... Done!
06/01/2021 14:17:17 - INFO - __main__ - Tokenizing Output ...
06/01/2021 14:17:28 - INFO - __main__ - Tokenizing Output ... Done!
06/01/2021 14:17:28 - INFO - __main__ - Loading preprocessed data ... Done!
06/01/2021 14:17:37 - INFO - __main__ - Loaded 5355 examples from dev data
06/01/2021 14:17:37 - INFO - filelock - Lock 140027824321760 acquired on /private/home/yuchenlin/.cache/torch/transformers/09f4fcaeaf785dd3b97b085d6e3510c7081f586ec8e75981683c6299c0f81d9d.e8d516ad807436d395effad8c2326786872659b7dd1210827ac67c761198a0eb.lock
06/01/2021 14:17:37 - INFO - transformers.file_utils - https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/config.json not found in cache or force_download set to True, downloading to /private/home/yuchenlin/.cache/torch/transformers/tmpfk4b9y80
06/01/2021 14:17:38 - INFO - transformers.file_utils - storing https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/config.json in cache at /private/home/yuchenlin/.cache/torch/transformers/09f4fcaeaf785dd3b97b085d6e3510c7081f586ec8e75981683c6299c0f81d9d.e8d516ad807436d395effad8c2326786872659b7dd1210827ac67c761198a0eb
06/01/2021 14:17:38 - INFO - transformers.file_utils - creating metadata file for /private/home/yuchenlin/.cache/torch/transformers/09f4fcaeaf785dd3b97b085d6e3510c7081f586ec8e75981683c6299c0f81d9d.e8d516ad807436d395effad8c2326786872659b7dd1210827ac67c761198a0eb
06/01/2021 14:17:38 - INFO - filelock - Lock 140027824321760 released on /private/home/yuchenlin/.cache/torch/transformers/09f4fcaeaf785dd3b97b085d6e3510c7081f586ec8e75981683c6299c0f81d9d.e8d516ad807436d395effad8c2326786872659b7dd1210827ac67c761198a0eb.lock
06/01/2021 14:17:38 - INFO - transformers.configuration_utils - loading configuration file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/config.json from cache at /private/home/yuchenlin/.cache/torch/transformers/09f4fcaeaf785dd3b97b085d6e3510c7081f586ec8e75981683c6299c0f81d9d.e8d516ad807436d395effad8c2326786872659b7dd1210827ac67c761198a0eb
06/01/2021 14:17:38 - INFO - transformers.configuration_utils - Model config BartConfig {
  "activation_dropout": 0.1,
  "activation_function": "gelu",
  "add_bias_logits": false,
  "add_final_layer_norm": false,
  "architectures": [
    "BartModel",
    "BartForConditionalGeneration",
    "BartForSequenceClassification"
  ],
  "attention_dropout": 0.1,
  "bos_token_id": 0,
  "classif_dropout": 0.0,
  "d_model": 768,
  "decoder_attention_heads": 12,
  "decoder_ffn_dim": 3072,
  "decoder_layerdrop": 0.0,
  "decoder_layers": 6,
  "decoder_start_token_id": 2,
  "dropout": 0.1,
  "early_stopping": true,
  "encoder_attention_heads": 12,
  "encoder_ffn_dim": 3072,
  "encoder_layerdrop": 0.0,
  "encoder_layers": 6,
  "eos_token_id": 2,
  "id2label": {
    "0": "LABEL_0",
    "1": "LABEL_1",
    "2": "LABEL_2"
  },
  "init_std": 0.02,
  "is_encoder_decoder": true,
  "label2id": {
    "LABEL_0": 0,
    "LABEL_1": 1,
    "LABEL_2": 2
  },
  "max_position_embeddings": 1024,
  "model_type": "bart",
  "no_repeat_ngram_size": 3,
  "normalize_before": false,
  "normalize_embedding": true,
  "num_beams": 4,
  "num_hidden_layers": 6,
  "pad_token_id": 1,
  "scale_embedding": false,
  "static_position_embeddings": false,
  "task_specific_params": {
    "summarization": {
      "length_penalty": 1.0,
      "max_length": 128,
      "min_length": 12,
      "num_beams": 4
    },
    "summarization_cnn": {
      "length_penalty": 2.0,
      "max_length": 142,
      "min_length": 56,
      "num_beams": 4
    },
    "summarization_xsum": {
      "length_penalty": 1.0,
      "max_length": 62,
      "min_length": 11,
      "num_beams": 6
    }
  },
  "vocab_size": 50265
}

06/01/2021 14:17:38 - INFO - filelock - Lock 140028488929856 acquired on /private/home/yuchenlin/.cache/torch/transformers/566c05fb6983817e8ad7a4fa51e3099fe9caa3b31730f964bc5198d71c677523.0a3d95c18c1e434448941bc25accea7b122882be6526fb67c8e8fb6d5ebc711c.lock
06/01/2021 14:17:38 - INFO - transformers.file_utils - https://cdn.huggingface.co/facebook/bart-base/pytorch_model.bin not found in cache or force_download set to True, downloading to /private/home/yuchenlin/.cache/torch/transformers/tmpd6rxmd19
06/01/2021 14:17:52 - INFO - transformers.file_utils - storing https://cdn.huggingface.co/facebook/bart-base/pytorch_model.bin in cache at /private/home/yuchenlin/.cache/torch/transformers/566c05fb6983817e8ad7a4fa51e3099fe9caa3b31730f964bc5198d71c677523.0a3d95c18c1e434448941bc25accea7b122882be6526fb67c8e8fb6d5ebc711c
06/01/2021 14:17:52 - INFO - transformers.file_utils - creating metadata file for /private/home/yuchenlin/.cache/torch/transformers/566c05fb6983817e8ad7a4fa51e3099fe9caa3b31730f964bc5198d71c677523.0a3d95c18c1e434448941bc25accea7b122882be6526fb67c8e8fb6d5ebc711c
06/01/2021 14:17:52 - INFO - filelock - Lock 140028488929856 released on /private/home/yuchenlin/.cache/torch/transformers/566c05fb6983817e8ad7a4fa51e3099fe9caa3b31730f964bc5198d71c677523.0a3d95c18c1e434448941bc25accea7b122882be6526fb67c8e8fb6d5ebc711c.lock
06/01/2021 14:17:52 - INFO - transformers.modeling_utils - loading weights file https://cdn.huggingface.co/facebook/bart-base/pytorch_model.bin from cache at /private/home/yuchenlin/.cache/torch/transformers/566c05fb6983817e8ad7a4fa51e3099fe9caa3b31730f964bc5198d71c677523.0a3d95c18c1e434448941bc25accea7b122882be6526fb67c8e8fb6d5ebc711c
06/01/2021 14:18:02 - INFO - __main__ - Starting training!
06/01/2021 14:18:41 - INFO - __main__ - Namespace(adam_epsilon=1e-08, append_another_bos=True, checkpoint=None, dataset='kilt_triviaqa', debug=False, dev_file='data/kilt_triviaqa/kilt_triviaqa_dev.tsv', do_lowercase=False, do_predict=False, do_train=True, eval_period=100, freeze_embeds=False, gradient_accumulation_steps=1, learning_rate=3e-05, max_grad_norm=0.1, max_input_length=128, max_output_length=32, model='facebook/bart-base', num_beams=4, num_train_epochs=1000.0, output_dir='out/kilt_triviaqa', predict_batch_size=32, predict_checkpoint='best-model.pt', prefix='', quiet=False, seed=42, test_file='data', total_steps=100000, train_batch_size=16, train_file='data/kilt_triviaqa/kilt_triviaqa_train.tsv', wait_step=10, warmup_proportion=0.01, warmup_steps=500, weight_decay=0.01)
06/01/2021 14:18:41 - INFO - __main__ - out/kilt_triviaqa
06/01/2021 14:18:41 - INFO - __main__ - Using 1 gpus
06/01/2021 14:18:41 - INFO - transformers.tokenization_utils - Model name 'facebook/bart-base' not found in model shortcut name list (bart-large, bart-large-mnli, bart-large-cnn, bart-large-xsum). Assuming 'facebook/bart-base' is a path, a model identifier, or url to a directory containing tokenizer files.
06/01/2021 14:18:43 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/vocab.json from cache at /private/home/yuchenlin/.cache/torch/transformers/7a7fc1746df9ea150ffd06a23351e5854c2105db3a0be1e0307dfd74fbf4a65c.ef00af9e673c7160b4d41cfda1f48c5f4cba57d5142754525572a846a1ab1b9b
06/01/2021 14:18:43 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/merges.txt from cache at /private/home/yuchenlin/.cache/torch/transformers/3d0d1735635ef097afbf08cf5af21618c94286b8e8b53cfb9bd6cdcfc91d4e14.70bec105b4158ed9a1747fea67a43f5dee97855c64d62b6ec3742f4cfdb5feda
06/01/2021 14:18:43 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/added_tokens.json from cache at None
06/01/2021 14:18:43 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/special_tokens_map.json from cache at None
06/01/2021 14:18:43 - INFO - transformers.tokenization_utils - loading file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/tokenizer_config.json from cache at None
06/01/2021 14:18:44 - INFO - __main__ - Loading pre-tokenized data from data/kilt_triviaqa/kilt_triviaqa_train-BartTokenized.json
06/01/2021 14:19:07 - INFO - __main__ - Loaded 61817 examples from train data
06/01/2021 14:19:08 - INFO - __main__ - Loading pre-tokenized data from data/kilt_triviaqa/kilt_triviaqa_dev-BartTokenized.json
06/01/2021 14:19:09 - INFO - __main__ - Loaded 5355 examples from dev data
06/01/2021 14:19:09 - INFO - transformers.configuration_utils - loading configuration file https://s3.amazonaws.com/models.huggingface.co/bert/facebook/bart-base/config.json from cache at /private/home/yuchenlin/.cache/torch/transformers/09f4fcaeaf785dd3b97b085d6e3510c7081f586ec8e75981683c6299c0f81d9d.e8d516ad807436d395effad8c2326786872659b7dd1210827ac67c761198a0eb
06/01/2021 14:19:09 - INFO - transformers.configuration_utils - Model config BartConfig {
  "activation_dropout": 0.1,
  "activation_function": "gelu",
  "add_bias_logits": false,
  "add_final_layer_norm": false,
  "architectures": [
    "BartModel",
    "BartForConditionalGeneration",
    "BartForSequenceClassification"
  ],
  "attention_dropout": 0.1,
  "bos_token_id": 0,
  "classif_dropout": 0.0,
  "d_model": 768,
  "decoder_attention_heads": 12,
  "decoder_ffn_dim": 3072,
  "decoder_layerdrop": 0.0,
  "decoder_layers": 6,
  "decoder_start_token_id": 2,
  "dropout": 0.1,
  "early_stopping": true,
  "encoder_attention_heads": 12,
  "encoder_ffn_dim": 3072,
  "encoder_layerdrop": 0.0,
  "encoder_layers": 6,
  "eos_token_id": 2,
  "id2label": {
    "0": "LABEL_0",
    "1": "LABEL_1",
    "2": "LABEL_2"
  },
  "init_std": 0.02,
  "is_encoder_decoder": true,
  "label2id": {
    "LABEL_0": 0,
    "LABEL_1": 1,
    "LABEL_2": 2
  },
  "max_position_embeddings": 1024,
  "model_type": "bart",
  "no_repeat_ngram_size": 3,
  "normalize_before": false,
  "normalize_embedding": true,
  "num_beams": 4,
  "num_hidden_layers": 6,
  "pad_token_id": 1,
  "scale_embedding": false,
  "static_position_embeddings": false,
  "task_specific_params": {
    "summarization": {
      "length_penalty": 1.0,
      "max_length": 128,
      "min_length": 12,
      "num_beams": 4
    },
    "summarization_cnn": {
      "length_penalty": 2.0,
      "max_length": 142,
      "min_length": 56,
      "num_beams": 4
    },
    "summarization_xsum": {
      "length_penalty": 1.0,
      "max_length": 62,
      "min_length": 11,
      "num_beams": 6
    }
  },
  "vocab_size": 50265
}

06/01/2021 14:19:10 - INFO - transformers.modeling_utils - loading weights file https://cdn.huggingface.co/facebook/bart-base/pytorch_model.bin from cache at /private/home/yuchenlin/.cache/torch/transformers/566c05fb6983817e8ad7a4fa51e3099fe9caa3b31730f964bc5198d71c677523.0a3d95c18c1e434448941bc25accea7b122882be6526fb67c8e8fb6d5ebc711c
06/01/2021 14:19:21 - INFO - __main__ - Starting training!
